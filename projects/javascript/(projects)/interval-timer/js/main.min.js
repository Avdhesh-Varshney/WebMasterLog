document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("rounds"),e=document.getElementById("roundMinus"),n=document.getElementById("roundPlus"),l=document.getElementById("worktime"),i=document.getElementById("worktimeMinus"),d=document.getElementById("worktimePlus"),C=document.getElementById("resttime"),s=document.getElementById("resttimeMinus"),o=document.getElementById("resttimePlus"),a=document.querySelector(".btn_start"),r=document.querySelector(".timer"),c=document.getElementById("start"),h=document.getElementById("pick"),m=document.getElementById("finish");function x(t){switch(+t.lastChild.textContent){case 10:t.lastChild.textContent="05";break;case 5:t.lastChild.textContent="00";break;case 0:0!=t.firstChild.textContent?(t.lastChild.textContent="55",t.firstChild.textContent<=10?t.firstChild.textContent="0"+(+t.firstChild.textContent-1):t.firstChild.textContent=+t.firstChild.textContent-1):(t.lastChild.textContent="00",0==+t.firstChild.textContent&&(t.firstChild.textContent="10"));break;default:t.lastChild.textContent=+t.lastChild.textContent-5}}function u(t){switch(+t.lastChild.textContent){case 55:t.lastChild.textContent="00",t.firstChild.textContent<9?t.firstChild.textContent="0"+(+t.firstChild.textContent+1):t.firstChild.textContent=+t.firstChild.textContent+1;break;case 0:10==+t.firstChild.textContent?(t.firstChild.textContent="00",t.lastChild.textContent="00"):t.lastChild.textContent="05";break;default:t.lastChild.textContent=+t.lastChild.textContent+5}}function E(e){let n=e;r.style.background="#407DD6",r.firstElementChild.innerHTML=`Rest <br> ${n} / ${+t.textContent}`,r.lastElementChild.textContent=60*+C.firstChild.textContent+ +C.lastChild.textContent;let l=setInterval(()=>{if(0!=+r.lastElementChild.textContent){switch(+r.lastElementChild.textContent){case 3:case 2:case 1:h.play()}r.lastElementChild.textContent=+r.lastElementChild.textContent-1}else++n,n>+t.textContent?function(t){clearInterval(t),m.play(),r.classList.remove("timer_active")}(l):(clearInterval(l),f(n))},1e3)}function f(e){let n=e;r.style.background="#000",r.firstElementChild.innerHTML=`Work <br> ${n} / ${+t.textContent}`,r.lastElementChild.textContent=60*+l.firstChild.textContent+ +l.lastChild.textContent;let i=setInterval(()=>{if(0!=+r.lastElementChild.textContent){switch(+r.lastElementChild.textContent){case 3:case 2:case 1:h.play()}r.lastElementChild.textContent=+r.lastElementChild.textContent-1}else clearInterval(i),E(n)},1e3)}e.addEventListener("click",()=>{let e=+t.textContent;t.textContent=1==e?99:--e}),n.addEventListener("click",()=>{let e=+t.textContent;t.textContent=99==e?1:++e}),i.addEventListener("click",()=>{x(l)}),d.addEventListener("click",()=>{u(l)}),s.addEventListener("click",()=>{x(C)}),o.addEventListener("click",()=>{u(C)}),a.addEventListener("click",(function(){!function(t){r.classList.add("timer_active"),r.style.background="rgb(52, 134, 79)",r.firstElementChild.innerHTML="Get Ready",r.lastElementChild.innerHTML="7",c.play();let e=setInterval(()=>{0!=+t.textContent?t.textContent=+t.textContent-1:(clearInterval(e),h.play(),f(1))},1e3)}(r.lastElementChild)}))});